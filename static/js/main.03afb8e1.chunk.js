(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{168:function(e,t,c){},169:function(e,t,c){},316:function(e,t,c){"use strict";c.r(t);var n=c(5),r=(c(164),c(0)),i=c.n(r),s=c(24),o=c.n(s),a=(c(168),c(49)),d=c(11),j=c(9),l=c(47),u=c(318),b=c(319),h=c(320),O=c(321),x=(c(169),c(27)),f=function e(){Object(l.a)(this,e),this.Time="00",this.Timestamp=0};function m(e,t,c){var n=new f;return n.Timestamp=e,n.Time=t,c.forEach((function(e){n[e]=0})),n}var p=function(e){var t=Object(r.useState)([]),c=Object(j.a)(t,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){var t,c=new Array,n=new f,r=Object(d.a)(e.LogLines);try{for(r.s();!(t=r.n()).done;){var i,o,a=t.value,j=(null!==(i=null===(o=a.Properties)||void 0===o?void 0:o.WorkerName)&&void 0!==i?i:"General")+" "+a.Level,l=a.Timestamp.getHours()+":"+(10*Math.floor(a.Timestamp.getMinutes()/10)+"").padStart(2,"0");l!==n.Time&&(""!==n.Time&&c.push(n),n=m(a.Timestamp.getTime(),l,e.Workers));var u=n[j];n[j]=(isNaN(u)?0:u)+1}}catch(b){r.e(b)}finally{r.f()}s(c)}),[e.LogLines,e.Workers]),Object(n.jsxs)(x.d,{data:i,height:300,width:1e3,children:[Object(n.jsx)(x.a,{strokeDasharray:"3 3"}),Object(n.jsx)(x.f,{dataKey:"Time"}),Object(n.jsx)(x.g,{}),Object(n.jsx)(x.e,{}),Object(n.jsx)(x.b,{}),e.Workers.map((function(e){return Object(n.jsx)(x.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})},v=function(e,t){return Object.keys(t).forEach((function(c){e=e.replace(new RegExp("\\{"+c+"\\}","gi"),t[c])})),e};function y(){var e=Object(r.createRef)(),t=Object(r.useState)([]),c=Object(j.a)(t,2),i=c[0],s=c[1],o=Object(r.useState)([]),l=Object(j.a)(o,2),x=l[0],f=l[1],m=Object(r.useState)(new Map),y=Object(j.a)(m,2),g=y[0],k=y[1],w=Object(r.useState)(new Map),E=Object(j.a)(w,2),L=E[0],T=E[1],S=Object(r.useState)(!1),M=Object(j.a)(S,2),W=M[0],C=M[1],A=Object(r.useState)([]),N=Object(j.a)(A,2),P=N[0],I=N[1],R=Object(r.useState)([]),z=Object(j.a)(R,2),B=z[0],D=z[1],G=Object(r.useState)([]),J=Object(j.a)(G,2),K=J[0],F=J[1];Object(r.useEffect)((function(){var e,t=i.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var c=JSON.parse(e);return{Timestamp:new Date(c.Timestamp),Level:c.Level,Message:v(c.MessageTemplate,c.Properties),Exception:c.Exception,Id:t,Properties:c.Properties}}catch(n){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),c=new Map,n=new Map,r=Object(d.a)(t);try{for(r.s();!(e=r.n()).done;){var s,o,a=e.value;if(a.Exception){var j=a.Exception.split(" ")[0];c.has(j)?c.set(j,c.get(j)+1):c.set(j,1)}var l=(null!==(s=null===(o=a.Properties)||void 0===o?void 0:o.WorkerName)&&void 0!==s?s:"General")+" "+a.Level;n.has(l)?n.set(l,n.get(l)+1):n.set(l,1)}}catch(u){r.e(u)}finally{r.f()}k(c),I(Array.from(c.keys())),T(n),D(Array.from(n.keys())),f(t)}),[i]),Object(r.useEffect)((function(){C(!0),F(x.filter((function(e){var t,c;return(!e.Exception||P.includes(e.Exception.split(" ")[0]))&&B.includes((null!==(t=null===(c=e.Properties)||void 0===c?void 0:c.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)}))),C(!1)}),[x,P,B]);return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("input",{type:"file",ref:e,disabled:W,accept:".json"}),Object(n.jsx)(u.a,{onClick:function(t){var c=new FileReader;c.addEventListener("load",(function(e){var t,c=(null===(t=e.target)||void 0===t?void 0:t.result).split("\n");s(c),C(!1)})),C(!0),c.readAsText(e.current.files[0])},disabled:W,children:"Load"}),W?Object(n.jsx)(b.a,{color:"info"}):Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsx)(p,{LogLines:K,Workers:B}),"Exceptions:",Object(n.jsxs)(h.a,{striped:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{width:"10%",children:"Count"}),Object(n.jsx)("td",{width:"auto",children:"Exception"}),Object(n.jsx)("td",{width:"5%",children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return I([])},children:"\u2610"}),Object(n.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return I(Array.from(g.keys()))},children:"\u2611"})]})})]})}),Object(n.jsx)("tbody",{children:Array.from(g.keys()).sort().map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:g.get(e)}),Object(n.jsx)("td",{children:e}),Object(n.jsx)("td",{children:Object(n.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:P.includes(e),onChange:function(t){t.target.checked?I([].concat(Object(a.a)(P),[e])):I(Object(a.a)(P.filter((function(t){return t!==e}))))}})})]},e)}))})]}),Object(n.jsx)("br",{}),"Workers:",Object(n.jsxs)(h.a,{striped:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{width:"10%",children:"Count"}),Object(n.jsx)("td",{width:"auto",children:"Worker"}),Object(n.jsx)("td",{width:"5%",children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return D([])},children:"\u2610"}),Object(n.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return D(Array.from(L.keys()))},children:"\u2611"})]})})]})}),Object(n.jsx)("tbody",{children:Array.from(L.keys()).sort().map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:L.get(e)}),Object(n.jsx)("td",{children:e}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:B.includes(e),onChange:function(t){t.target.checked?D([].concat(Object(a.a)(B),[e])):D(Object(a.a)(B.filter((function(t){return t!==e}))))}})})})]},e)}))})]}),Object(n.jsx)("br",{}),"Events:",Object(n.jsx)("br",{}),"Showing ",K.length," out of ",x.length,Object(n.jsxs)(h.a,{striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{width:"5%",children:"#"}),Object(n.jsx)("td",{width:"10%",children:"Time"}),Object(n.jsx)("td",{width:"10%",children:"Level"}),Object(n.jsx)("td",{width:"10%",children:"Work Item"}),Object(n.jsx)("td",{width:"20%",children:"Message"}),Object(n.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(n.jsx)("tbody",{children:K.filter((function(e,t){return t<=1e3})).map((function(e){var t,c;return Object(n.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(n.jsx)("td",{children:e.Id}),Object(n.jsx)("td",{children:e.Timestamp.toLocaleString()}),Object(n.jsx)("td",{children:e.Level}),Object(n.jsx)("td",{children:null!==(t=null===(c=e.Properties)||void 0===c?void 0:c.WorkItemKey)&&void 0!==t?t:"*"}),Object(n.jsx)("td",{children:e.Message}),Object(n.jsx)("td",{children:e.Exception})]},e.Id)}))})]})]})]})}var g=c(66),k=Object(g.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),w=k.actions,E=(w.increment,w.decrement,w.incrementByAmount,k.reducer),L=Object(g.a)({reducer:{counter:E}}),T=c(157);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(T.a,{store:L,children:Object(n.jsx)(y,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[316,1,2]]]);
//# sourceMappingURL=main.03afb8e1.chunk.js.map