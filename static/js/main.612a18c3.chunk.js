(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{214:function(e,t,n){},215:function(e,t,n){},423:function(e,t,n){"use strict";n.r(t);var c=n(5),a=(n(210),n(0)),i=n.n(a),s=n(23),r=n.n(s),l=(n(214),n(68)),o=n(18),d=n(11),j=n(66),b=n(428),u=n(429),h=n(432),m=n(430),O=n(431),x=(n(215),n(38)),p=function e(){Object(j.a)(this,e),this.Time="00",this.Timestamp=0};function f(e,t,n){var c=new p;return c.Timestamp=e,c.Time=t,n.forEach((function(e){c[e]=0})),c}var g=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){var t,n=new Array,c=new p,a=Object(o.a)(e.LogLines);try{for(a.s();!(t=a.n()).done;){var i,r,l=t.value,d=(null!==(i=null===(r=l.Properties)||void 0===r?void 0:r.WorkerName)&&void 0!==i?i:"General")+" "+l.Level,j=l.Timestamp.getHours()+":"+(10*Math.floor(l.Timestamp.getMinutes()/10)+"").padStart(2,"0");j!==c.Time&&(""!==c.Time&&n.push(c),c=f(l.Timestamp.getTime(),j,e.Workers));var b=c[d];c[d]=(isNaN(b)?0:b)+1}}catch(u){a.e(u)}finally{a.f()}n.includes(c)||n.push(c),s(n)}),[e.LogLines,e.Workers]),Object(c.jsxs)(x.d,{data:i,height:300,width:1e3,children:[Object(c.jsx)(x.a,{strokeDasharray:"3 3"}),Object(c.jsx)(x.f,{dataKey:"Time"}),Object(c.jsx)(x.g,{}),Object(c.jsx)(x.e,{}),Object(c.jsx)(x.b,{}),e.Workers.map((function(e){return Object(c.jsx)(x.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})},v=n(131),y=n.n(v),k=(n(360),n(199)),w=n.n(k),C=function(e,t){return Object.keys(t).forEach((function(n){e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t[n])})),e};function N(){var e=Object(a.createRef)(),t=Object(a.useState)([]),n=Object(d.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)([]),j=Object(d.a)(r,2),x=j[0],p=j[1],f=Object(a.useState)(new Map),v=Object(d.a)(f,2),k=v[0],N=v[1],T=Object(a.useState)(new Map),L=Object(d.a)(T,2),E=L[0],S=L[1],M=Object(a.useState)(!1),D=Object(d.a)(M,2),A=D[0],H=D[1],W=Object(a.useState)([]),P=Object(d.a)(W,2),F=P[0],I=P[1],R=Object(a.useState)([]),z=Object(d.a)(R,2),B=z[0],G=z[1],J=Object(a.useState)(new Date(0)),K=Object(d.a)(J,2),$=K[0],q=K[1],Q=Object(a.useState)(new Date(0)),U=Object(d.a)(Q,2),V=U[0],X=U[1],Y=Object(a.useState)([]),Z=Object(d.a)(Y,2),_=Z[0],ee=Z[1],te=Object(a.useState)(0),ne=Object(d.a)(te,2),ce=ne[0],ae=ne[1],ie=Object(a.useState)(0),se=Object(d.a)(ie,2),re=se[0],le=se[1],oe=Object(a.useState)(0),de=Object(d.a)(oe,2),je=de[0],be=de[1];Object(a.useEffect)((function(){var e,t=i.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var n=JSON.parse(e);return{Timestamp:new Date(n.Timestamp),Level:n.Level,Message:C(n.MessageTemplate,n.Properties),Exception:n.Exception,Id:t,Properties:n.Properties}}catch(c){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),n=new Map,c=new Map,a=Object(o.a)(t);try{for(a.s();!(e=a.n()).done;){var s,r,l=e.value;if(l.Exception){var d=l.Exception.split(" ")[0];n.has(d)?n.set(d,n.get(d)+1):n.set(d,1)}var j=(null!==(s=null===(r=l.Properties)||void 0===r?void 0:r.WorkerName)&&void 0!==s?s:"General")+" "+l.Level;c.has(j)?c.set(j,c.get(j)+1):c.set(j,1)}}catch(b){a.e(b)}finally{a.f()}N(n),I(Array.from(n.keys())),S(c),G(Array.from(c.keys())),t.length>0&&(q(t[0].Timestamp),X(t[t.length-1].Timestamp)),p(t)}),[i]),Object(a.useEffect)((function(){H(!0),ee(x.filter((function(e){var t,n;return(!e.Exception||F.includes(e.Exception.split(" ")[0]))&&B.includes((null!==(t=null===(n=e.Properties)||void 0===n?void 0:n.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)&&$!==new Date(0)&&e.Timestamp>=$&&V!==new Date(0)&&e.Timestamp<=V}))),H(!1)}),[x,F,B,$,V]);return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("input",{type:"file",ref:e,disabled:A,accept:".json"}),Object(c.jsx)(b.a,{onClick:function(t){s([]);var n=new FileReader;n.addEventListener("loadstart",(function(e){console.log("Loading file.."),le(0),H(!0)})),n.addEventListener("loadend",(function(e){console.log("File loaded.."),H(!1)})),n.addEventListener("error",(function(e){console.error("Can not load file",e),H(!1)})),n.addEventListener("progress",(function(e){le(e.loaded),be(e.total)})),n.addEventListener("load",(function(e){var t,n=(null===(t=e.target)||void 0===t?void 0:t.result).split("\n");s(n)})),n.readAsText(e.current.files[0])},disabled:A,children:"Load"}),A?Object(c.jsxs)("div",{style:{width:"70%"},children:[Object(c.jsx)(u.a,{color:"info"}),Object(c.jsxs)(h.a,{value:re/je*100,max:100,style:{width:"100%"},children:[Math.round(re/je*100),"%"]})]}):Object(c.jsxs)("div",{style:{width:"100%"},children:[Object(c.jsx)(g,{LogLines:_,Workers:B}),Object(c.jsxs)("div",{className:"accordion",id:"settingsAccordion",children:[Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(c.jsx)("h2",{className:"mb-0",children:Object(c.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#exceptionsCollapse","aria-expanded":"true","aria-controls":"exceptionsCollapse",children:"Exceptions"})})}),Object(c.jsx)("div",{id:"exceptionsCollapse",className:"collapse","aria-labelledby":"exceptionsHeading","data-parent":"#settingsAccordion",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Exception"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(b.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return I([])},children:"\u2610"}),Object(c.jsx)(b.a,{outline:!0,size:"sm",color:"success",onClick:function(){return I(Array.from(k.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(k.keys()).sort().map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:k.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:F.includes(e),onChange:function(t){t.target.checked?I([].concat(Object(l.a)(F),[e])):I(Object(l.a)(F.filter((function(t){return t!==e}))))}})})]},e)}))})]})})})]}),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-header",id:"workersHeading",children:Object(c.jsx)("h2",{className:"mb-0",children:Object(c.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#workersCollapse","aria-expanded":"true","aria-controls":"workersCollapse",children:"Workers"})})}),Object(c.jsx)("div",{id:"workersCollapse",className:"collapse","aria-labelledby":"workersHeading","data-parent":"#settingsAccordion",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Worker"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(b.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return G([])},children:"\u2610"}),Object(c.jsx)(b.a,{outline:!0,size:"sm",color:"success",onClick:function(){return G(Array.from(E.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(E.keys()).sort().map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:E.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:Object(c.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:B.includes(e),onChange:function(t){t.target.checked?G([].concat(Object(l.a)(B),[e])):G(Object(l.a)(B.filter((function(t){return t!==e}))))}})})})]},e)}))})]})})})]})]}),"Events:",Object(c.jsx)("br",{}),"Start Time: ",Object(c.jsx)(y.a,{selected:null!==$&&void 0!==$?$:x.length>0?x[0].Timestamp:new Date,onChange:function(e){e instanceof Date&&q(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(c.jsx)(b.a,{onClick:function(){return q(x[0].Timestamp)},children:"Clear"}),Object(c.jsx)("br",{}),"End Time: ",Object(c.jsx)(y.a,{selected:null!==V&&void 0!==V?V:x.length>0?x[x.length-1].Timestamp:new Date,onChange:function(e){e instanceof Date&&X(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(c.jsx)(b.a,{onClick:function(){return X(x[x.length-1].Timestamp)},children:"Clear"}),Object(c.jsx)("br",{}),"Filtered ",_.length," out of ",x.length,Object(c.jsx)("br",{}),"Showing ",1e3*ce," ..."," ",Math.min(_.length-1e3*ce,1e3)+1e3*ce,Object(c.jsx)(w.a,{pageCount:_.length/1e3,onPageChange:function(e){console.log(e.selected),ae(e.selected)},forcePage:ce,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"}),Object(c.jsxs)(m.a,{striped:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"5%",children:"#"}),Object(c.jsx)("td",{width:"10%",children:"Time"}),Object(c.jsx)("td",{width:"10%",children:"Level"}),Object(c.jsx)("td",{width:"10%",children:"Work Item"}),Object(c.jsx)("td",{width:"20%",children:"Message"}),Object(c.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(c.jsx)("tbody",{children:_.filter((function(e,t){return t>=1e3*ce&&t<1e3*(ce+1)})).map((function(e){var t,n;return Object(c.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(c.jsx)("td",{children:e.Id}),Object(c.jsx)("td",{children:e.Timestamp.toLocaleString()}),Object(c.jsx)("td",{children:e.Level}),Object(c.jsx)("td",{children:null!==(t=null===(n=e.Properties)||void 0===n?void 0:n.WorkItemKey)&&void 0!==t?t:"*"}),Object(c.jsx)("td",{children:e.Message}),Object(c.jsx)("td",{children:e.Exception})]},e.Id)}))})]})]})]})}var T=n(90),L=Object(T.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),E=L.actions,S=(E.increment,E.decrement,E.incrementByAmount,L.reducer),M=Object(T.a)({reducer:{counter:S}}),D=n(203);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(D.a,{store:M,children:Object(c.jsx)(N,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[423,1,2]]]);
//# sourceMappingURL=main.612a18c3.chunk.js.map