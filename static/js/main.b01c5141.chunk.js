(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{219:function(e,t,a){},220:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);a(214);var c=a(0),n=a.n(c),i=a(24),s=a.n(i),r=(a(219),a(93)),l=a(21),o=a(19),d=a(10),j=a(66),b=a(431),h=a(436),u=a(432),O=a(433),p=a(434),m=a(435),x=(a(220),a(36)),g=a(3),f=function e(){Object(j.a)(this,e),this.Time="00",this.Timestamp=0};function v(e,t,a){var c=new f;return c.Timestamp=e,c.Time=t,a.forEach((function(e){c[e]=0})),c}var y=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],i=a[1];return Object(c.useEffect)((function(){var t,a=new Array,c=new f,n=Object(o.a)(e.LogLines);try{for(n.s();!(t=n.n()).done;){var s,r,l=t.value,d=(null!==(s=null===(r=l.Properties)||void 0===r?void 0:r.WorkerName)&&void 0!==s?s:"General")+" "+l.Level,j=l.Timestamp.getHours()+":"+(10*Math.floor(l.Timestamp.getMinutes()/10)+"").padStart(2,"0");j!==c.Time&&(""!==c.Time&&a.push(c),c=v(l.Timestamp.getTime(),j,e.Workers));var b=c[d];c[d]=(isNaN(b)?0:b)+1}}catch(h){n.e(h)}finally{n.f()}a.includes(c)||a.push(c),i(a)}),[e.LogLines,e.Workers]),Object(g.jsx)(x.e,{width:"100%",height:400,children:Object(g.jsxs)(x.d,{data:n,height:300,width:1e3,style:{zIndex:100},children:[Object(g.jsx)(x.a,{strokeDasharray:"3 3"}),Object(g.jsx)(x.g,{dataKey:"Time"}),Object(g.jsx)(x.h,{}),Object(g.jsx)(x.f,{}),Object(g.jsx)(x.b,{}),e.Workers.map((function(e){return Object(g.jsx)(x.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})})},k=a(133),w=a.n(k),C=(a(366),a(132)),N=a.n(C),S=a(209),T=function(e,t){return Object.keys(t).forEach((function(a){e=e.replace(new RegExp("\\{"+a+"\\}","gi"),t[a])})),e};function A(){var e=Object(c.createRef)(),t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)([]),j=Object(d.a)(s,2),x=j[0],f=j[1],v=Object(c.useState)(new Map),k=Object(d.a)(v,2),C=k[0],A=k[1],M=Object(c.useState)(new Map),L=Object(d.a)(M,2),E=L[0],I=L[1],D=Object(c.useState)(new Map),W=Object(d.a)(D,2),P=W[0],H=W[1],z=Object(c.useState)(new Map),R=Object(d.a)(z,2),F=R[0],B=R[1],G=Object(c.useState)(!1),J=Object(d.a)(G,2),K=J[0],V=J[1],$=Object(c.useState)([]),q=Object(d.a)($,2),Q=q[0],U=q[1],X=Object(c.useState)(""),Y=Object(d.a)(X,2),Z=Y[0],_=Y[1],ee=Object(c.useState)([]),te=Object(d.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)([]),ie=Object(d.a)(ne,2),se=ie[0],re=ie[1],le=Object(c.useState)(new Date(0)),oe=Object(d.a)(le,2),de=oe[0],je=oe[1],be=Object(c.useState)(new Date(0)),he=Object(d.a)(be,2),ue=he[0],Oe=he[1],pe=Object(c.useState)([]),me=Object(d.a)(pe,2),xe=me[0],ge=me[1],fe=Object(c.useState)(""),ve=Object(d.a)(fe,2),ye=ve[0],ke=ve[1],we=Object(c.useState)([]),Ce=Object(d.a)(we,2),Ne=Ce[0],Se=Ce[1],Te=Object(c.useState)([]),Ae=Object(d.a)(Te,2),Me=Ae[0],Le=Ae[1],Ee=Object(c.useState)(!1),Ie=Object(d.a)(Ee,2),De=Ie[0],We=Ie[1],Pe=Object(c.useState)([]),He=Object(d.a)(Pe,2),ze=He[0],Re=He[1],Fe=Object(c.useState)(0),Be=Object(d.a)(Fe,2),Ge=Be[0],Je=Be[1],Ke=Object(c.useState)(0),Ve=Object(d.a)(Ke,2),$e=Ve[0],qe=Ve[1],Qe=Object(c.useState)(0),Ue=Object(d.a)(Qe,2),Xe=Ue[0],Ye=Ue[1],Ze=Object(c.useState)(""),_e=Object(d.a)(Ze,2),et=_e[0],tt=_e[1],at=Object(c.useCallback)((function(e){1===e.length&&rt(e[0])}),[]),ct=Object(S.a)({onDrop:at}),nt=ct.getRootProps,it=ct.getInputProps,st=ct.isDragActive;Object(c.useEffect)((function(){return We(!0)}),[xe,ye,Ne,Me]),Object(c.useEffect)((function(){if(!K){var e,t=n.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var a=JSON.parse(e);return{Timestamp:new Date(a.Timestamp),Level:a.Level,Message:T(a.MessageTemplate,a.Properties),Exception:a.Exception,Id:t,Properties:a.Properties}}catch(c){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),a=new Map,c=new Map,i=new Map,s=Object(o.a)(t);try{for(s.s();!(e=s.n()).done;){var r,l,d,j,b=e.value;if(b.Exception){var h=b.Exception.split(" ")[0];a.has(h)?a.set(h,a.get(h)+1):a.set(h,1)}var u=(null!==(r=null===(l=b.Properties)||void 0===l?void 0:l.WorkerName)&&void 0!==r?r:"General")+" "+b.Level;c.has(u)?c.set(u,c.get(u)+1):c.set(u,1);var O=null!==(d=null===(j=b.Properties)||void 0===j?void 0:j.ApplicationSessionId)&&void 0!==d?d:"";i.has(O)?i.set(O,i.get(O)+1):i.set(O,1)}}catch(m){s.e(m)}finally{s.f()}A(a),ge(Array.from(a.keys())),ke(""),I(c),Se(Array.from(c.keys())),H(i),Le(Array.from(i.keys()));var p=Array.from(i.keys()).reduce((function(e,a){return e.set(a,t.filter((function(e){var t;return(null===(t=e.Properties)||void 0===t?void 0:t.ApplicationSessionId)===a})).reduce((function(e,t){return t.Timestamp<e?t.Timestamp:e}),new Date(9999,12,31))),e}),new Map);B(p),t.length>0&&(je(t[0].Timestamp),Oe(t[t.length-1].Timestamp)),lt(),f(t)}}),[n,K]),Object(c.useEffect)((function(){Re(x.filter((function(e){var t,a,c,n;return(!e.Exception||Q.includes(e.Exception.split(" ")[0]))&&ae.includes((null!==(t=null===(a=e.Properties)||void 0===a?void 0:a.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)&&(0===Z.length||e.Exception.match(Z))&&se.includes(null!==(c=null===(n=e.Properties)||void 0===n?void 0:n.ApplicationSessionId)&&void 0!==c?c:"")&&de!==new Date(0)&&e.Timestamp>=de&&ue!==new Date(0)&&e.Timestamp<=ue})))}),[x,Q,Z,ae,se,de,ue]);var rt=function(e){i([]);var t=104857600,a=e.size/t+1,c=0;tt(e.name),qe(0),Ye(a),V(!0);var n=new FileReader;n.addEventListener("error",(function(e){console.error("Can not load file",e),V(!1),i([]),Je(0),tt(""),lt()})),n.addEventListener("load",(function(s){var r,o=(null===(r=s.target)||void 0===r?void 0:r.result).split("\n");i((function(e){return[].concat(Object(l.a)(e),Object(l.a)(o))})),c++,console.log(c,a),c>a?(V(!1),Je(0)):(qe(c),n.readAsText(e.slice(c*t,Math.min(c*t+t,e.size))))})),n.readAsText(e.slice(0,Math.min(e.size,t)))},lt=function(){U(Object(l.a)(xe)),_(ye),ce(Object(l.a)(Ne)),re(Object(l.a)(Me)),We(!1)};return Object(g.jsxs)("div",{className:"app",children:[Object(g.jsxs)("div",{style:{position:"absolute",left:"0px",top:"0px",color:"lightgray"},children:["v","0.5.2"]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",Object(r.a)(Object(r.a)({},nt()),{},{className:"dropzone",children:[Object(g.jsx)("input",Object(r.a)({type:"file",ref:e,disabled:K,accept:".json"},it())),st?"Drop file here":"Click or drag and drop files here"]})),Object(g.jsx)("div",{children:et})]}),K?Object(g.jsxs)("div",{style:{width:"70%"},children:[Object(g.jsx)(b.a,{color:"info"}),Object(g.jsxs)(h.a,{value:$e/Xe*100,max:100,style:{width:"100%"},children:[Math.round($e/Xe*100),"%"]})]}):Object(g.jsxs)("div",{style:{width:"100%"},children:[Object(g.jsx)(y,{LogLines:ze,Workers:ae}),Object(g.jsxs)("div",{className:"accordion",id:"settingsAccordion",children:[Object(g.jsx)(u.a,{onClick:function(){return lt()},disabled:!De,children:"Apply settings"}),Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(g.jsx)("h2",{className:"mb-0",children:Object(g.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#exceptionsCollapse","aria-expanded":"true","aria-controls":"exceptionsCollapse",children:"Exceptions"})})}),Object(g.jsx)("div",{id:"exceptionsCollapse",className:"collapse","aria-labelledby":"exceptionsHeading","data-parent":"#settingsAccordion",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(O.a,{children:"Regex: "}),Object(g.jsx)(p.a,{onChange:function(e){return ke(e.target.value)},value:ye})," "]}),Object(g.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{width:"10%",children:"Count"}),Object(g.jsx)("td",{width:"auto",children:"Exception"}),Object(g.jsx)("td",{width:"5%",children:Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return ge([])},children:"\u2610"}),Object(g.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return ge(Array.from(C.keys()))},children:"\u2611"})]})})]})}),Object(g.jsx)("tbody",{children:Array.from(C.keys()).sort().map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:C.get(e)}),Object(g.jsx)("td",{children:e}),Object(g.jsx)("td",{children:Object(g.jsx)(p.a,{type:"checkbox",className:"tableCheckbox",checked:xe.includes(e),onChange:function(t){t.target.checked?ge([].concat(Object(l.a)(xe),[e])):ge(Object(l.a)(xe.filter((function(t){return t!==e}))))}})})]},e)}))})]})]})})]}),Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("div",{className:"card-header",id:"workersHeading",children:Object(g.jsx)("h2",{className:"mb-0",children:Object(g.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#workersCollapse","aria-expanded":"true","aria-controls":"workersCollapse",children:"Workers"})})}),Object(g.jsx)("div",{id:"workersCollapse",className:"collapse","aria-labelledby":"workersHeading","data-parent":"#settingsAccordion",children:Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{width:"10%",children:"Count"}),Object(g.jsx)("td",{width:"auto",children:"Worker"}),Object(g.jsx)("td",{width:"5%",children:Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return Se([])},children:"\u2610"}),Object(g.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return Se(Array.from(E.keys()))},children:"\u2611"})]})})]})}),Object(g.jsx)("tbody",{children:Array.from(E.keys()).sort().map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:E.get(e)}),Object(g.jsx)("td",{children:e}),Object(g.jsx)("td",{children:Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{type:"checkbox",className:"tableCheckbox",checked:Ne.includes(e),onChange:function(t){t.target.checked?Se([].concat(Object(l.a)(Ne),[e])):Se(Object(l.a)(Ne.filter((function(t){return t!==e}))))}})})})]},e)}))})]})})}),Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(g.jsx)("h2",{className:"mb-0",children:Object(g.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#applicationSessionIdsCollapse","aria-expanded":"true","aria-controls":"applicationSessionIdsCollapse",children:"Application Session Ids"})})}),Object(g.jsx)("div",{id:"applicationSessionIdsCollapse",className:"collapse","aria-labelledby":"applicationSessionIdsHeading","data-parent":"#settingsAccordion",children:Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{width:"10%",children:"Count"}),Object(g.jsx)("td",{width:"auto",children:"Application Session Id"}),Object(g.jsx)("td",{width:"auto",children:"Start time"}),Object(g.jsx)("td",{width:"5%",children:Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return Le([])},children:"\u2610"}),Object(g.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return Le(Array.from(P.keys()))},children:"\u2611"})]})})]})}),Object(g.jsx)("tbody",{children:Array.from(P.keys()).sort((function(e,t){return F.get(e)>F.get(t)?-1:1})).map((function(e){var t;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:P.get(e)}),Object(g.jsx)("td",{children:e}),Object(g.jsx)("td",{children:null===(t=F.get(e))||void 0===t?void 0:t.toString()}),Object(g.jsx)("td",{children:Object(g.jsx)(p.a,{type:"checkbox",className:"tableCheckbox",checked:Me.includes(e),onChange:function(t){t.target.checked?Le([].concat(Object(l.a)(Me),[e])):Le(Object(l.a)(Me.filter((function(t){return t!==e}))))}})})]},e)}))})]})})})]})]})]}),"Events:",Object(g.jsx)("br",{}),"Start Time: ",Object(g.jsx)(w.a,{selected:null!==de&&void 0!==de?de:x.length>0?x[0].Timestamp:new Date,onChange:function(e){e instanceof Date&&je(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(g.jsx)(u.a,{onClick:function(){return je(x[0].Timestamp)},children:"Clear"}),Object(g.jsx)("br",{}),"End Time: ",Object(g.jsx)(w.a,{selected:null!==ue&&void 0!==ue?ue:x.length>0?x[x.length-1].Timestamp:new Date,onChange:function(e){e instanceof Date&&Oe(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(g.jsx)(u.a,{onClick:function(){return Oe(x[x.length-1].Timestamp)},children:"Clear"}),Object(g.jsx)("br",{}),"Filtered ",ze.length," out of ",x.length,Object(g.jsx)("br",{}),"Showing ",1e3*Ge," ..."," ",Math.min(ze.length-1e3*Ge,1e3)+1e3*Ge,Object(g.jsx)(N.a,{pageCount:ze.length/1e3,onPageChange:function(e){Je(e.selected)},forcePage:Ge,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"}),Object(g.jsxs)(m.a,{striped:!0,id:"mainTable",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{width:"5%",children:"#"}),Object(g.jsx)("td",{width:"10%",children:"Time"}),Object(g.jsx)("td",{width:"10%",children:"Level"}),Object(g.jsx)("td",{width:"10%",children:"Work Item"}),Object(g.jsx)("td",{width:"20%",children:"Message"}),Object(g.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(g.jsx)("tbody",{children:ze.filter((function(e,t){return t>=1e3*Ge&&t<1e3*(Ge+1)})).map((function(e){var t,a,c,n;return Object(g.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(g.jsx)("td",{children:Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:e.Id})}),Object(g.jsx)("td",{children:Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:e.Timestamp.toLocaleString()})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:e.Level}),Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:null===(t=e.Properties)||void 0===t?void 0:t.MetricName}),Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:null===(a=e.Properties)||void 0===a?void 0:a.ConcurrentTaskIndex})]})}),Object(g.jsx)("td",{children:Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:null!==(c=null===(n=e.Properties)||void 0===n?void 0:n.WorkItemKey)&&void 0!==c?c:"*"})}),Object(g.jsx)("td",{children:Object(g.jsx)("p",{style:{wordWrap:"break-word"},children:e.Message})}),Object(g.jsx)("td",{children:Object(g.jsx)("p",{style:{wordWrap:"break-word",whiteSpace:"break-spaces"},children:e.Exception})})]},e.Id)}))})]}),Object(g.jsx)(N.a,{pageCount:ze.length/1e3,onPageChange:function(e){var t;Je(e.selected),null===(t=document.getElementById("mainTable"))||void 0===t||t.scrollIntoView()},forcePage:Ge,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]})]})}var M=a(88),L=Object(M.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),E=L.actions,I=(E.increment,E.decrement,E.incrementByAmount,L.reducer),D=Object(M.a)({reducer:{counter:I}}),W=a(208);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(W.a,{store:D,children:Object(g.jsx)(A,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[426,1,2]]]);
//# sourceMappingURL=main.b01c5141.chunk.js.map