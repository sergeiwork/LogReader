(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{219:function(e,t,a){},220:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);a(214);var n=a(0),c=a.n(n),i=a(23),r=a.n(i),s=(a(219),a(68)),l=a(45),o=a(18),d=a(11),j=a(66),b=a(431),h=a(432),u=a(435),m=a(433),O=a(434),p=(a(220),a(35)),x=a(5),g=function e(){Object(j.a)(this,e),this.Time="00",this.Timestamp=0};function f(e,t,a){var n=new g;return n.Timestamp=e,n.Time=t,a.forEach((function(e){n[e]=0})),n}var v=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){var t,a=new Array,n=new g,c=Object(o.a)(e.LogLines);try{for(c.s();!(t=c.n()).done;){var r,s,l=t.value,d=(null!==(r=null===(s=l.Properties)||void 0===s?void 0:s.WorkerName)&&void 0!==r?r:"General")+" "+l.Level,j=l.Timestamp.getHours()+":"+(10*Math.floor(l.Timestamp.getMinutes()/10)+"").padStart(2,"0");j!==n.Time&&(""!==n.Time&&a.push(n),n=f(l.Timestamp.getTime(),j,e.Workers));var b=n[d];n[d]=(isNaN(b)?0:b)+1}}catch(h){c.e(h)}finally{c.f()}a.includes(n)||a.push(n),i(a)}),[e.LogLines,e.Workers]),Object(x.jsx)(p.e,{width:"100%",height:400,children:Object(x.jsxs)(p.d,{data:c,height:300,width:1e3,style:{zIndex:100},children:[Object(x.jsx)(p.a,{strokeDasharray:"3 3"}),Object(x.jsx)(p.g,{dataKey:"Time"}),Object(x.jsx)(p.h,{}),Object(x.jsx)(p.f,{}),Object(x.jsx)(p.b,{}),e.Workers.map((function(e){return Object(x.jsx)(p.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})})},k=a(133),y=a.n(k),w=(a(366),a(132)),C=a.n(w),N=a(209),T=function(e,t){return Object.keys(t).forEach((function(a){e=e.replace(new RegExp("\\{"+a+"\\}","gi"),t[a])})),e};function L(){var e=Object(n.createRef)(),t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)([]),j=Object(d.a)(r,2),p=j[0],g=j[1],f=Object(n.useState)(new Map),k=Object(d.a)(f,2),w=k[0],L=k[1],S=Object(n.useState)(new Map),E=Object(d.a)(S,2),M=E[0],D=E[1],W=Object(n.useState)(!1),A=Object(d.a)(W,2),P=A[0],H=A[1],I=Object(n.useState)([]),R=Object(d.a)(I,2),z=R[0],F=R[1],B=Object(n.useState)([]),G=Object(d.a)(B,2),J=G[0],K=G[1],V=Object(n.useState)(new Date(0)),$=Object(d.a)(V,2),q=$[0],Q=$[1],U=Object(n.useState)(new Date(0)),X=Object(d.a)(U,2),Y=X[0],Z=X[1],_=Object(n.useState)([]),ee=Object(d.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),ce=Object(d.a)(ne,2),ie=ce[0],re=ce[1],se=Object(n.useState)(0),le=Object(d.a)(se,2),oe=le[0],de=le[1],je=Object(n.useState)(0),be=Object(d.a)(je,2),he=be[0],ue=be[1],me=Object(n.useCallback)((function(e){1===e.length&&fe(e[0])}),[]),Oe=Object(N.a)({onDrop:me}),pe=Oe.getRootProps,xe=Oe.getInputProps,ge=Oe.isDragActive;Object(n.useEffect)((function(){if(!P){var e,t=c.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var a=JSON.parse(e);return{Timestamp:new Date(a.Timestamp),Level:a.Level,Message:T(a.MessageTemplate,a.Properties),Exception:a.Exception,Id:t,Properties:a.Properties}}catch(n){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),a=new Map,n=new Map,i=Object(o.a)(t);try{for(i.s();!(e=i.n()).done;){var r,s,l=e.value;if(l.Exception){var d=l.Exception.split(" ")[0];a.has(d)?a.set(d,a.get(d)+1):a.set(d,1)}var j=(null!==(r=null===(s=l.Properties)||void 0===s?void 0:s.WorkerName)&&void 0!==r?r:"General")+" "+l.Level;n.has(j)?n.set(j,n.get(j)+1):n.set(j,1)}}catch(b){i.e(b)}finally{i.f()}L(a),F(Array.from(a.keys())),D(n),K(Array.from(n.keys())),t.length>0&&(Q(t[0].Timestamp),Z(t[t.length-1].Timestamp)),g(t)}}),[c,P]),Object(n.useEffect)((function(){ae(p.filter((function(e){var t,a;return(!e.Exception||z.includes(e.Exception.split(" ")[0]))&&J.includes((null!==(t=null===(a=e.Properties)||void 0===a?void 0:a.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)&&q!==new Date(0)&&e.Timestamp>=q&&Y!==new Date(0)&&e.Timestamp<=Y})))}),[p,z,J,q,Y]);var fe=function(e){i([]);var t=104857600,a=e.size/t+1,n=0;de(0),ue(a),H(!0);var c=new FileReader;c.addEventListener("error",(function(e){console.error("Can not load file",e),H(!1),i([])})),c.addEventListener("load",(function(r){var s,o=(null===(s=r.target)||void 0===s?void 0:s.result).split("\n");i((function(e){return[].concat(Object(l.a)(e),Object(l.a)(o))})),n++,console.log(n,a),n>a?H(!1):(de(n),c.readAsText(e.slice(n*t,Math.min(n*t+t,e.size))))})),c.readAsText(e.slice(0,Math.min(e.size,t)))};return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)("div",Object(s.a)(Object(s.a)({},pe()),{},{children:Object(x.jsx)("input",Object(s.a)(Object(s.a)({type:"file",ref:e,disabled:P,accept:".json"},xe()),{},{children:ge?"Drop file here":""}))})),Object(x.jsx)(b.a,{onClick:function(t){fe(e.current.files[0])},disabled:P,children:"Load"}),P?Object(x.jsxs)("div",{style:{width:"70%"},children:[Object(x.jsx)(h.a,{color:"info"}),Object(x.jsxs)(u.a,{value:oe/he*100,max:100,style:{width:"100%"},children:[Math.round(oe/he*100),"%"]})]}):Object(x.jsxs)("div",{style:{width:"100%"},children:[Object(x.jsx)(v,{LogLines:te,Workers:J}),Object(x.jsxs)("div",{className:"accordion",id:"settingsAccordion",children:[Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(x.jsx)("h2",{className:"mb-0",children:Object(x.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#exceptionsCollapse","aria-expanded":"true","aria-controls":"exceptionsCollapse",children:"Exceptions"})})}),Object(x.jsx)("div",{id:"exceptionsCollapse",className:"collapse","aria-labelledby":"exceptionsHeading","data-parent":"#settingsAccordion",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{width:"10%",children:"Count"}),Object(x.jsx)("td",{width:"auto",children:"Exception"}),Object(x.jsx)("td",{width:"5%",children:Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(x.jsx)(b.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return F([])},children:"\u2610"}),Object(x.jsx)(b.a,{outline:!0,size:"sm",color:"success",onClick:function(){return F(Array.from(w.keys()))},children:"\u2611"})]})})]})}),Object(x.jsx)("tbody",{children:Array.from(w.keys()).sort().map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:w.get(e)}),Object(x.jsx)("td",{children:e}),Object(x.jsx)("td",{children:Object(x.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:z.includes(e),onChange:function(t){t.target.checked?F([].concat(Object(l.a)(z),[e])):F(Object(l.a)(z.filter((function(t){return t!==e}))))}})})]},e)}))})]})})})]}),Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",id:"workersHeading",children:Object(x.jsx)("h2",{className:"mb-0",children:Object(x.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#workersCollapse","aria-expanded":"true","aria-controls":"workersCollapse",children:"Workers"})})}),Object(x.jsx)("div",{id:"workersCollapse",className:"collapse","aria-labelledby":"workersHeading","data-parent":"#settingsAccordion",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{width:"10%",children:"Count"}),Object(x.jsx)("td",{width:"auto",children:"Worker"}),Object(x.jsx)("td",{width:"5%",children:Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(x.jsx)(b.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return K([])},children:"\u2610"}),Object(x.jsx)(b.a,{outline:!0,size:"sm",color:"success",onClick:function(){return K(Array.from(M.keys()))},children:"\u2611"})]})})]})}),Object(x.jsx)("tbody",{children:Array.from(M.keys()).sort().map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:M.get(e)}),Object(x.jsx)("td",{children:e}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:Object(x.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:J.includes(e),onChange:function(t){t.target.checked?K([].concat(Object(l.a)(J),[e])):K(Object(l.a)(J.filter((function(t){return t!==e}))))}})})})]},e)}))})]})})})]})]}),"Events:",Object(x.jsx)("br",{}),"Start Time: ",Object(x.jsx)(y.a,{selected:null!==q&&void 0!==q?q:p.length>0?p[0].Timestamp:new Date,onChange:function(e){e instanceof Date&&Q(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(x.jsx)(b.a,{onClick:function(){return Q(p[0].Timestamp)},children:"Clear"}),Object(x.jsx)("br",{}),"End Time: ",Object(x.jsx)(y.a,{selected:null!==Y&&void 0!==Y?Y:p.length>0?p[p.length-1].Timestamp:new Date,onChange:function(e){e instanceof Date&&Z(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(x.jsx)(b.a,{onClick:function(){return Z(p[p.length-1].Timestamp)},children:"Clear"}),Object(x.jsx)("br",{}),"Filtered ",te.length," out of ",p.length,Object(x.jsx)("br",{}),"Showing ",1e3*ie," ..."," ",Math.min(te.length-1e3*ie,1e3)+1e3*ie,Object(x.jsx)(C.a,{pageCount:te.length/1e3,onPageChange:function(e){re(e.selected)},forcePage:ie,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"}),Object(x.jsxs)(m.a,{striped:!0,id:"mainTable",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{width:"5%",children:"#"}),Object(x.jsx)("td",{width:"10%",children:"Time"}),Object(x.jsx)("td",{width:"10%",children:"Level"}),Object(x.jsx)("td",{width:"10%",children:"Work Item"}),Object(x.jsx)("td",{width:"20%",children:"Message"}),Object(x.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(x.jsx)("tbody",{children:te.filter((function(e,t){return t>=1e3*ie&&t<1e3*(ie+1)})).map((function(e){var t,a;return Object(x.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(x.jsx)("td",{children:Object(x.jsx)("p",{style:{wordWrap:"break-word"},children:e.Id})}),Object(x.jsx)("td",{children:Object(x.jsx)("p",{style:{wordWrap:"break-word"},children:e.Timestamp.toLocaleString()})}),Object(x.jsx)("td",{children:Object(x.jsx)("p",{style:{wordWrap:"break-word"},children:e.Level})}),Object(x.jsx)("td",{children:Object(x.jsx)("p",{style:{wordWrap:"break-word"},children:null!==(t=null===(a=e.Properties)||void 0===a?void 0:a.WorkItemKey)&&void 0!==t?t:"*"})}),Object(x.jsx)("td",{children:Object(x.jsx)("p",{style:{wordWrap:"break-word"},children:e.Message})}),Object(x.jsx)("td",{children:Object(x.jsx)("p",{style:{wordWrap:"break-word"},children:e.Exception})})]},e.Id)}))})]}),Object(x.jsx)(C.a,{pageCount:te.length/1e3,onPageChange:function(e){var t;re(e.selected),null===(t=document.getElementById("mainTable"))||void 0===t||t.scrollIntoView()},forcePage:ie,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]})]})}var S=a(89),E=Object(S.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),M=E.actions,D=(M.increment,M.decrement,M.incrementByAmount,E.reducer),W=Object(S.a)({reducer:{counter:D}}),A=a(208);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(A.a,{store:W,children:Object(x.jsx)(L,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[426,1,2]]]);
//# sourceMappingURL=main.8ee66be0.chunk.js.map