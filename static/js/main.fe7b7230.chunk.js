(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{213:function(e,t,n){},214:function(e,t,n){},422:function(e,t,n){"use strict";n.r(t);var c=n(8),r=(n(209),n(0)),i=n.n(r),s=n(23),a=n.n(s),o=(n(213),n(68)),l=n(16),d=n(11),j=n(66),u=n(427),b=n(428),h=n(429),O=n(430),m=(n(214),n(38)),x=function e(){Object(j.a)(this,e),this.Time="00",this.Timestamp=0};function f(e,t,n){var c=new x;return c.Timestamp=e,c.Time=t,n.forEach((function(e){c[e]=0})),c}var p=function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),i=n[0],s=n[1];return Object(r.useEffect)((function(){var t,n=new Array,c=new x,r=Object(l.a)(e.LogLines);try{for(r.s();!(t=r.n()).done;){var i,a,o=t.value,d=(null!==(i=null===(a=o.Properties)||void 0===a?void 0:a.WorkerName)&&void 0!==i?i:"General")+" "+o.Level,j=o.Timestamp.getHours()+":"+(10*Math.floor(o.Timestamp.getMinutes()/10)+"").padStart(2,"0");j!==c.Time&&(""!==c.Time&&n.push(c),c=f(o.Timestamp.getTime(),j,e.Workers));var u=c[d];c[d]=(isNaN(u)?0:u)+1}}catch(b){r.e(b)}finally{r.f()}n.includes(c)||n.push(c),s(n)}),[e.LogLines,e.Workers]),Object(c.jsxs)(m.d,{data:i,height:300,width:1e3,children:[Object(c.jsx)(m.a,{strokeDasharray:"3 3"}),Object(c.jsx)(m.f,{dataKey:"Time"}),Object(c.jsx)(m.g,{}),Object(c.jsx)(m.e,{}),Object(c.jsx)(m.b,{}),e.Workers.map((function(e){return Object(c.jsx)(m.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})},v=n(131),y=n.n(v),g=(n(359),function(e,t){return Object.keys(t).forEach((function(n){e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t[n])})),e});function w(){var e=Object(r.createRef)(),t=Object(r.useState)([]),n=Object(d.a)(t,2),i=n[0],s=n[1],a=Object(r.useState)([]),j=Object(d.a)(a,2),m=j[0],x=j[1],f=Object(r.useState)(new Map),v=Object(d.a)(f,2),w=v[0],k=v[1],T=Object(r.useState)(new Map),S=Object(d.a)(T,2),E=S[0],C=S[1],L=Object(r.useState)(!1),M=Object(d.a)(L,2),W=M[0],D=M[1],A=Object(r.useState)([]),N=Object(d.a)(A,2),H=N[0],P=N[1],I=Object(r.useState)([]),R=Object(d.a)(I,2),F=R[0],z=R[1],B=Object(r.useState)(new Date(0)),G=Object(d.a)(B,2),J=G[0],K=G[1],$=Object(r.useState)(new Date(0)),q=Object(d.a)($,2),Q=q[0],U=q[1],V=Object(r.useState)([]),X=Object(d.a)(V,2),Y=X[0],Z=X[1];Object(r.useEffect)((function(){var e,t=i.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var n=JSON.parse(e);return{Timestamp:new Date(n.Timestamp),Level:n.Level,Message:g(n.MessageTemplate,n.Properties),Exception:n.Exception,Id:t,Properties:n.Properties}}catch(c){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),n=new Map,c=new Map,r=Object(l.a)(t);try{for(r.s();!(e=r.n()).done;){var s,a,o=e.value;if(o.Exception){var d=o.Exception.split(" ")[0];n.has(d)?n.set(d,n.get(d)+1):n.set(d,1)}var j=(null!==(s=null===(a=o.Properties)||void 0===a?void 0:a.WorkerName)&&void 0!==s?s:"General")+" "+o.Level;c.has(j)?c.set(j,c.get(j)+1):c.set(j,1)}}catch(u){r.e(u)}finally{r.f()}k(n),P(Array.from(n.keys())),C(c),z(Array.from(c.keys())),t.length>0&&(K(t[0].Timestamp),U(t[t.length-1].Timestamp)),x(t)}),[i]),Object(r.useEffect)((function(){D(!0),Z(m.filter((function(e){var t,n;return(!e.Exception||H.includes(e.Exception.split(" ")[0]))&&F.includes((null!==(t=null===(n=e.Properties)||void 0===n?void 0:n.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)&&J!==new Date(0)&&e.Timestamp>=J&&Q!==new Date(0)&&e.Timestamp<=Q}))),D(!1)}),[m,H,F,J,Q]);return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("input",{type:"file",ref:e,disabled:W,accept:".json"}),Object(c.jsx)(u.a,{onClick:function(t){var n=new FileReader;n.addEventListener("load",(function(e){var t,n=(null===(t=e.target)||void 0===t?void 0:t.result).split("\n");s(n),D(!1)})),D(!0),n.readAsText(e.current.files[0])},disabled:W,children:"Load"}),W?Object(c.jsx)(b.a,{color:"info"}):Object(c.jsxs)("div",{style:{width:"100%"},children:[Object(c.jsx)(p,{LogLines:Y,Workers:F}),"Exceptions:",Object(c.jsxs)(h.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Exception"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return P([])},children:"\u2610"}),Object(c.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return P(Array.from(w.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(w.keys()).sort().map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:w.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:H.includes(e),onChange:function(t){t.target.checked?P([].concat(Object(o.a)(H),[e])):P(Object(o.a)(H.filter((function(t){return t!==e}))))}})})]},e)}))})]}),Object(c.jsx)("br",{}),"Workers:",Object(c.jsxs)(h.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Worker"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(u.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return z([])},children:"\u2610"}),Object(c.jsx)(u.a,{outline:!0,size:"sm",color:"success",onClick:function(){return z(Array.from(E.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(E.keys()).sort().map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:E.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:Object(c.jsx)(O.a,{type:"checkbox",className:"tableCheckbox",checked:F.includes(e),onChange:function(t){t.target.checked?z([].concat(Object(o.a)(F),[e])):z(Object(o.a)(F.filter((function(t){return t!==e}))))}})})})]},e)}))})]}),Object(c.jsx)("br",{}),"Events:",Object(c.jsx)("br",{}),"Start Time: ",Object(c.jsx)(y.a,{selected:null!==J&&void 0!==J?J:m.length>0?m[0].Timestamp:new Date,onChange:function(e){e instanceof Date&&K(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(c.jsx)(u.a,{onClick:function(){return K(m[0].Timestamp)},children:"Clear"}),Object(c.jsx)("br",{}),"End Time: ",Object(c.jsx)(y.a,{selected:null!==Q&&void 0!==Q?Q:m.length>0?m[m.length-1].Timestamp:new Date,onChange:function(e){e instanceof Date&&U(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(c.jsx)(u.a,{onClick:function(){return U(m[m.length-1].Timestamp)},children:"Clear"}),Object(c.jsx)("br",{}),"Showing ",Y.length," out of ",m.length,Object(c.jsxs)(h.a,{striped:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"5%",children:"#"}),Object(c.jsx)("td",{width:"10%",children:"Time"}),Object(c.jsx)("td",{width:"10%",children:"Level"}),Object(c.jsx)("td",{width:"10%",children:"Work Item"}),Object(c.jsx)("td",{width:"20%",children:"Message"}),Object(c.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(c.jsx)("tbody",{children:Y.filter((function(e,t){return t<=1e3})).map((function(e){var t,n;return Object(c.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(c.jsx)("td",{children:e.Id}),Object(c.jsx)("td",{children:e.Timestamp.toLocaleString()}),Object(c.jsx)("td",{children:e.Level}),Object(c.jsx)("td",{children:null!==(t=null===(n=e.Properties)||void 0===n?void 0:n.WorkItemKey)&&void 0!==t?t:"*"}),Object(c.jsx)("td",{children:e.Message}),Object(c.jsx)("td",{children:e.Exception})]},e.Id)}))})]})]})]})}var k=n(90),T=Object(k.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),S=T.actions,E=(S.increment,S.decrement,S.incrementByAmount,T.reducer),C=Object(k.a)({reducer:{counter:E}}),L=n(202);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(L.a,{store:C,children:Object(c.jsx)(w,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[422,1,2]]]);
//# sourceMappingURL=main.fe7b7230.chunk.js.map