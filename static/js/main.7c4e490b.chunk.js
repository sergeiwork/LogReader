(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{217:function(e,t,a){},218:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);var c=a(3),n=(a(213),a(0)),i=a.n(n),s=a(24),r=a.n(s),l=(a(217),a(94)),o=a(21),d=a(18),j=a(10),b=a(67),h=a(431),u=a(435),p=a(432),O=a(433),m=a(434),x=(a(218),a(36)),g=function e(){Object(b.a)(this,e),this.Time="00",this.Timestamp=0};function f(e,t,a){var c=new g;return c.Timestamp=e,c.Time=t,a.forEach((function(e){c[e]=0})),c}var v=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),i=a[0],s=a[1];return Object(n.useEffect)((function(){var t,a=new Array,c=new g,n=Object(d.a)(e.LogLines);try{for(n.s();!(t=n.n()).done;){var i,r,l=t.value,o=(null!==(i=null===(r=l.Properties)||void 0===r?void 0:r.WorkerName)&&void 0!==i?i:"General")+" "+l.Level,j=l.Timestamp.getHours()+":"+(10*Math.floor(l.Timestamp.getMinutes()/10)+"").padStart(2,"0");j!==c.Time&&(""!==c.Time&&a.push(c),c=f(l.Timestamp.getTime(),j,e.Workers));var b=c[o];c[o]=(isNaN(b)?0:b)+1}}catch(h){n.e(h)}finally{n.f()}a.includes(c)||a.push(c),s(a)}),[e.LogLines,e.Workers]),Object(c.jsx)(x.e,{width:"100%",height:400,children:Object(c.jsxs)(x.d,{data:i,height:300,width:1e3,style:{zIndex:100},children:[Object(c.jsx)(x.a,{strokeDasharray:"3 3"}),Object(c.jsx)(x.g,{dataKey:"Time"}),Object(c.jsx)(x.h,{}),Object(c.jsx)(x.f,{}),Object(c.jsx)(x.b,{}),e.Workers.map((function(e){return Object(c.jsx)(x.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})})},y=a(133),k=a.n(y),w=(a(363),a(132)),C=a.n(w),N=a(206),S=function(e,t){return Object.keys(t).forEach((function(a){e=e.replace(new RegExp("\\{"+a+"\\}","gi"),t[a])})),e};function T(){var e=Object(n.createRef)(),t=Object(n.useState)([]),a=Object(j.a)(t,2),i=a[0],s=a[1],r=Object(n.useState)([]),b=Object(j.a)(r,2),x=b[0],g=b[1],f=Object(n.useState)(new Map),y=Object(j.a)(f,2),w=y[0],T=y[1],A=Object(n.useState)(new Map),M=Object(j.a)(A,2),L=M[0],E=M[1],I=Object(n.useState)(new Map),D=Object(j.a)(I,2),W=D[0],P=D[1],H=Object(n.useState)(new Map),z=Object(j.a)(H,2),R=z[0],F=z[1],B=Object(n.useState)(!1),G=Object(j.a)(B,2),J=G[0],K=G[1],V=Object(n.useState)([]),$=Object(j.a)(V,2),q=$[0],Q=$[1],U=Object(n.useState)([]),X=Object(j.a)(U,2),Y=X[0],Z=X[1],_=Object(n.useState)([]),ee=Object(j.a)(_,2),te=ee[0],ae=ee[1],ce=Object(n.useState)(new Date(0)),ne=Object(j.a)(ce,2),ie=ne[0],se=ne[1],re=Object(n.useState)(new Date(0)),le=Object(j.a)(re,2),oe=le[0],de=le[1],je=Object(n.useState)([]),be=Object(j.a)(je,2),he=be[0],ue=be[1],pe=Object(n.useState)([]),Oe=Object(j.a)(pe,2),me=Oe[0],xe=Oe[1],ge=Object(n.useState)([]),fe=Object(j.a)(ge,2),ve=fe[0],ye=fe[1],ke=Object(n.useState)(!1),we=Object(j.a)(ke,2),Ce=we[0],Ne=we[1],Se=Object(n.useState)([]),Te=Object(j.a)(Se,2),Ae=Te[0],Me=Te[1],Le=Object(n.useState)(0),Ee=Object(j.a)(Le,2),Ie=Ee[0],De=Ee[1],We=Object(n.useState)(0),Pe=Object(j.a)(We,2),He=Pe[0],ze=Pe[1],Re=Object(n.useState)(0),Fe=Object(j.a)(Re,2),Be=Fe[0],Ge=Fe[1],Je=Object(n.useState)(""),Ke=Object(j.a)(Je,2),Ve=Ke[0],$e=Ke[1],qe=Object(n.useCallback)((function(e){1===e.length&&Ze(e[0])}),[]),Qe=Object(N.a)({onDrop:qe}),Ue=Qe.getRootProps,Xe=Qe.getInputProps,Ye=Qe.isDragActive;Object(n.useEffect)((function(){return Ne(!0)}),[he,me,ve]),Object(n.useEffect)((function(){if(!J){var e,t=i.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var a=JSON.parse(e);return{Timestamp:new Date(a.Timestamp),Level:a.Level,Message:S(a.MessageTemplate,a.Properties),Exception:a.Exception,Id:t,Properties:a.Properties}}catch(c){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),a=new Map,c=new Map,n=new Map,s=Object(d.a)(t);try{for(s.s();!(e=s.n()).done;){var r,l,o,j,b=e.value;if(b.Exception){var h=b.Exception.split(" ")[0];a.has(h)?a.set(h,a.get(h)+1):a.set(h,1)}var u=(null!==(r=null===(l=b.Properties)||void 0===l?void 0:l.WorkerName)&&void 0!==r?r:"General")+" "+b.Level;c.has(u)?c.set(u,c.get(u)+1):c.set(u,1);var p=null!==(o=null===(j=b.Properties)||void 0===j?void 0:j.ApplicationSessionId)&&void 0!==o?o:"";n.has(p)?n.set(p,n.get(p)+1):n.set(p,1)}}catch(m){s.e(m)}finally{s.f()}T(a),ue(Array.from(a.keys())),E(c),xe(Array.from(c.keys())),P(n),ye(Array.from(n.keys()));var O=Array.from(n.keys()).reduce((function(e,a){return e.set(a,t.filter((function(e){var t;return(null===(t=e.Properties)||void 0===t?void 0:t.ApplicationSessionId)===a})).reduce((function(e,t){return t.Timestamp<e?t.Timestamp:e}),new Date(9999,12,31))),e}),new Map);F(O),t.length>0&&(se(t[0].Timestamp),de(t[t.length-1].Timestamp)),_e(),g(t)}}),[i,J]),Object(n.useEffect)((function(){Me(x.filter((function(e){var t,a,c,n;return(!e.Exception||q.includes(e.Exception.split(" ")[0]))&&Y.includes((null!==(t=null===(a=e.Properties)||void 0===a?void 0:a.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)&&te.includes(null!==(c=null===(n=e.Properties)||void 0===n?void 0:n.ApplicationSessionId)&&void 0!==c?c:"")&&ie!==new Date(0)&&e.Timestamp>=ie&&oe!==new Date(0)&&e.Timestamp<=oe})))}),[x,q,Y,te,ie,oe]);var Ze=function(e){s([]);var t=104857600,a=e.size/t+1,c=0;$e(e.name),ze(0),Ge(a),K(!0);var n=new FileReader;n.addEventListener("error",(function(e){console.error("Can not load file",e),K(!1),s([]),De(0),$e(""),_e()})),n.addEventListener("load",(function(i){var r,l=(null===(r=i.target)||void 0===r?void 0:r.result).split("\n");s((function(e){return[].concat(Object(o.a)(e),Object(o.a)(l))})),c++,console.log(c,a),c>a?(K(!1),De(0)):(ze(c),n.readAsText(e.slice(c*t,Math.min(c*t+t,e.size))))})),n.readAsText(e.slice(0,Math.min(e.size,t)))},_e=function(){Q(Object(o.a)(he)),Z(Object(o.a)(me)),ae(Object(o.a)(ve)),Ne(!1)};return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsxs)("div",{style:{position:"absolute",left:"0px",top:"0px",color:"lightgray"},children:["v","0.5"]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",Object(l.a)(Object(l.a)({},Ue()),{},{className:"dropzone",children:[Object(c.jsx)("input",Object(l.a)({type:"file",ref:e,disabled:J,accept:".json"},Xe())),Ye?"Drop file here":"Click or drag and drop files here"]})),Object(c.jsx)("div",{children:Ve})]}),J?Object(c.jsxs)("div",{style:{width:"70%"},children:[Object(c.jsx)(h.a,{color:"info"}),Object(c.jsxs)(u.a,{value:He/Be*100,max:100,style:{width:"100%"},children:[Math.round(He/Be*100),"%"]})]}):Object(c.jsxs)("div",{style:{width:"100%"},children:[Object(c.jsx)(v,{LogLines:Ae,Workers:Y}),Object(c.jsxs)("div",{className:"accordion",id:"settingsAccordion",children:[Object(c.jsx)(p.a,{onClick:function(){return _e()},disabled:!Ce,children:"Apply settings"}),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(c.jsx)("h2",{className:"mb-0",children:Object(c.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#exceptionsCollapse","aria-expanded":"true","aria-controls":"exceptionsCollapse",children:"Exceptions"})})}),Object(c.jsx)("div",{id:"exceptionsCollapse",className:"collapse","aria-labelledby":"exceptionsHeading","data-parent":"#settingsAccordion",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)(O.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Exception"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(p.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return ue([])},children:"\u2610"}),Object(c.jsx)(p.a,{outline:!0,size:"sm",color:"success",onClick:function(){return ue(Array.from(w.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(w.keys()).sort().map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:w.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)(m.a,{type:"checkbox",className:"tableCheckbox",checked:he.includes(e),onChange:function(t){t.target.checked?ue([].concat(Object(o.a)(he),[e])):ue(Object(o.a)(he.filter((function(t){return t!==e}))))}})})]},e)}))})]})})})]}),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-header",id:"workersHeading",children:Object(c.jsx)("h2",{className:"mb-0",children:Object(c.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#workersCollapse","aria-expanded":"true","aria-controls":"workersCollapse",children:"Workers"})})}),Object(c.jsx)("div",{id:"workersCollapse",className:"collapse","aria-labelledby":"workersHeading","data-parent":"#settingsAccordion",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)(O.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Worker"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(p.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return xe([])},children:"\u2610"}),Object(c.jsx)(p.a,{outline:!0,size:"sm",color:"success",onClick:function(){return xe(Array.from(L.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(L.keys()).sort().map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:L.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:Object(c.jsx)(m.a,{type:"checkbox",className:"tableCheckbox",checked:me.includes(e),onChange:function(t){t.target.checked?xe([].concat(Object(o.a)(me),[e])):xe(Object(o.a)(me.filter((function(t){return t!==e}))))}})})})]},e)}))})]})})}),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(c.jsx)("h2",{className:"mb-0",children:Object(c.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#applicationSessionIdsCollapse","aria-expanded":"true","aria-controls":"applicationSessionIdsCollapse",children:"Application Session Ids"})})}),Object(c.jsx)("div",{id:"applicationSessionIdsCollapse",className:"collapse","aria-labelledby":"applicationSessionIdsHeading","data-parent":"#settingsAccordion",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)(O.a,{striped:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"10%",children:"Count"}),Object(c.jsx)("td",{width:"auto",children:"Application Session Id"}),Object(c.jsx)("td",{width:"auto",children:"Start time"}),Object(c.jsx)("td",{width:"5%",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(c.jsx)(p.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return ye([])},children:"\u2610"}),Object(c.jsx)(p.a,{outline:!0,size:"sm",color:"success",onClick:function(){return ye(Array.from(W.keys()))},children:"\u2611"})]})})]})}),Object(c.jsx)("tbody",{children:Array.from(W.keys()).sort().map((function(e){var t;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:W.get(e)}),Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:null===(t=R.get(e))||void 0===t?void 0:t.toString()}),Object(c.jsx)("td",{children:Object(c.jsx)(m.a,{type:"checkbox",className:"tableCheckbox",checked:ve.includes(e),onChange:function(t){t.target.checked?ye([].concat(Object(o.a)(ve),[e])):ye(Object(o.a)(ve.filter((function(t){return t!==e}))))}})})]},e)}))})]})})})]})]})]}),"Events:",Object(c.jsx)("br",{}),"Start Time: ",Object(c.jsx)(k.a,{selected:null!==ie&&void 0!==ie?ie:x.length>0?x[0].Timestamp:new Date,onChange:function(e){e instanceof Date&&se(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(c.jsx)(p.a,{onClick:function(){return se(x[0].Timestamp)},children:"Clear"}),Object(c.jsx)("br",{}),"End Time: ",Object(c.jsx)(k.a,{selected:null!==oe&&void 0!==oe?oe:x.length>0?x[x.length-1].Timestamp:new Date,onChange:function(e){e instanceof Date&&de(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(c.jsx)(p.a,{onClick:function(){return de(x[x.length-1].Timestamp)},children:"Clear"}),Object(c.jsx)("br",{}),"Filtered ",Ae.length," out of ",x.length,Object(c.jsx)("br",{}),"Showing ",1e3*Ie," ..."," ",Math.min(Ae.length-1e3*Ie,1e3)+1e3*Ie,Object(c.jsx)(C.a,{pageCount:Ae.length/1e3,onPageChange:function(e){De(e.selected)},forcePage:Ie,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"}),Object(c.jsxs)(O.a,{striped:!0,id:"mainTable",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{width:"5%",children:"#"}),Object(c.jsx)("td",{width:"10%",children:"Time"}),Object(c.jsx)("td",{width:"10%",children:"Level"}),Object(c.jsx)("td",{width:"10%",children:"Work Item"}),Object(c.jsx)("td",{width:"20%",children:"Message"}),Object(c.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(c.jsx)("tbody",{children:Ae.filter((function(e,t){return t>=1e3*Ie&&t<1e3*(Ie+1)})).map((function(e){var t,a,n,i;return Object(c.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(c.jsx)("td",{children:Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:e.Id})}),Object(c.jsx)("td",{children:Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:e.Timestamp.toLocaleString()})}),Object(c.jsx)("td",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:e.Level}),Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:null===(t=e.Properties)||void 0===t?void 0:t.MetricName}),Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:null===(a=e.Properties)||void 0===a?void 0:a.ConcurrentTaskIndex})]})}),Object(c.jsx)("td",{children:Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:null!==(n=null===(i=e.Properties)||void 0===i?void 0:i.WorkItemKey)&&void 0!==n?n:"*"})}),Object(c.jsx)("td",{children:Object(c.jsx)("p",{style:{wordWrap:"break-word"},children:e.Message})}),Object(c.jsx)("td",{children:Object(c.jsx)("p",{style:{wordWrap:"break-word",whiteSpace:"break-spaces"},children:e.Exception})})]},e.Id)}))})]}),Object(c.jsx)(C.a,{pageCount:Ae.length/1e3,onPageChange:function(e){var t;De(e.selected),null===(t=document.getElementById("mainTable"))||void 0===t||t.scrollIntoView()},forcePage:Ie,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]})]})}var A=a(90),M=Object(A.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),L=M.actions,E=(L.increment,L.decrement,L.incrementByAmount,M.reducer),I=Object(A.a)({reducer:{counter:E}}),D=a(205);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(D.a,{store:I,children:Object(c.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[426,1,2]]]);
//# sourceMappingURL=main.7c4e490b.chunk.js.map