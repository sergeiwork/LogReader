(this["webpackJsonplog-reader"]=this["webpackJsonplog-reader"]||[]).push([[0],{502:function(e,t,a){},503:function(e,t,a){},899:function(e,t,a){"use strict";a.r(t);var n=a(9),c=(a(498),a(0)),i=a.n(c),s=a(23),r=a.n(s),o=(a(502),a(219)),l=a(35),d=a(40),j=a(16),b=a(84),u=a(953),p=a(947),h=a(948),m=a(951),O=a(952),x=(a(503),a(85)),g=function e(){Object(b.a)(this,e),this.Time="00",this.Timestamp=0};function v(e,t,a){var n=new g;return n.Timestamp=e,n.Time=t,a.forEach((function(e){n[e]=0})),n}var f=function(e){var t=Object(c.useState)([]),a=Object(j.a)(t,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){var t,a=new Array,n=new g,c=Object(d.a)(e.LogLines);try{for(c.s();!(t=c.n()).done;){var i,r,o=t.value,l=(null!==(i=null===(r=o.Properties)||void 0===r?void 0:r.WorkerName)&&void 0!==i?i:"General")+" "+o.Level,j=o.Timestamp.getHours()+":"+(10*Math.floor(o.Timestamp.getMinutes()/10)+"").padStart(2,"0");j!==n.Time&&(""!==n.Time&&a.push(n),n=v(o.Timestamp.getTime(),j,e.Workers));var b=n[l];n[l]=(isNaN(b)?0:b)+1}}catch(u){c.e(u)}finally{c.f()}a.includes(n)||a.push(n),s(a)}),[e.LogLines,e.Workers]),Object(n.jsx)(x.e,{width:"100%",height:400,children:Object(n.jsxs)(x.d,{data:i,height:300,width:1e3,style:{zIndex:100},children:[Object(n.jsx)(x.a,{strokeDasharray:"3 3"}),Object(n.jsx)(x.g,{dataKey:"Time"}),Object(n.jsx)(x.h,{}),Object(n.jsx)(x.f,{}),Object(n.jsx)(x.b,{}),e.Workers.map((function(e){return Object(n.jsx)(x.c,{type:"monotone",dataKey:e,stroke:"#"+Math.floor(16777215*Math.random()).toString(16)},e)}))]})})},y=a(313),k=a.n(y),w=(a(647),a(310)),C=a.n(w),N=a(467),S=a(221),T=a(311),L=a(117),M=function(e,t){return Object.keys(t).forEach((function(a){e=e.replace(new RegExp("\\{"+a+"\\}","gi"),t[a])})),e};function E(){var e=Object(c.createRef)(),t=Object(c.useState)([]),a=Object(j.a)(t,2),i=a[0],s=a[1],r=Object(c.useState)([]),b=Object(j.a)(r,2),x=b[0],g=b[1],v=Object(c.useState)(new Map),y=Object(j.a)(v,2),w=y[0],E=y[1],A=Object(c.useState)(new Map),W=Object(j.a)(A,2),I=W[0],P=W[1],D=Object(c.useState)(new Map),H=Object(j.a)(D,2),R=H[0],z=H[1],F=Object(c.useState)(new Map),B=Object(j.a)(F,2),G=B[0],J=B[1],K=Object(c.useState)(!1),V=Object(j.a)(K,2),$=V[0],q=V[1],Q=Object(c.useState)(!1),U=Object(j.a)(Q,2),X=U[0],Y=U[1],Z=Object(c.useState)([]),_=Object(j.a)(Z,2),ee=_[0],te=_[1],ae=Object(c.useState)(""),ne=Object(j.a)(ae,2),ce=ne[0],ie=ne[1],se=Object(c.useState)([]),re=Object(j.a)(se,2),oe=re[0],le=re[1],de=Object(c.useState)([]),je=Object(j.a)(de,2),be=je[0],ue=je[1],pe=Object(c.useState)(new Date(0)),he=Object(j.a)(pe,2),me=he[0],Oe=he[1],xe=Object(c.useState)(new Date(0)),ge=Object(j.a)(xe,2),ve=ge[0],fe=ge[1],ye=Object(c.useState)([]),ke=Object(j.a)(ye,2),we=ke[0],Ce=ke[1],Ne=Object(c.useState)(""),Se=Object(j.a)(Ne,2),Te=Se[0],Le=Se[1],Me=Object(c.useState)([]),Ee=Object(j.a)(Me,2),Ae=Ee[0],We=Ee[1],Ie=Object(c.useState)([]),Pe=Object(j.a)(Ie,2),De=Pe[0],He=Pe[1],Re=Object(c.useState)(!1),ze=Object(j.a)(Re,2),Fe=ze[0],Be=ze[1],Ge=Object(c.useState)([]),Je=Object(j.a)(Ge,2),Ke=Je[0],Ve=Je[1],$e=Object(c.useState)(0),qe=Object(j.a)($e,2),Qe=qe[0],Ue=qe[1],Xe=Object(c.useState)(0),Ye=Object(j.a)(Xe,2),Ze=Ye[0],_e=Ye[1],et=Object(c.useState)(0),tt=Object(j.a)(et,2),at=tt[0],nt=tt[1],ct=Object(c.useState)(""),it=Object(j.a)(ct,2),st=it[0],rt=it[1],ot=Object(c.useCallback)((function(e){1===e.length&&ut(e[0])}),[]),lt=Object(N.a)({onDrop:ot}),dt=lt.getRootProps,jt=lt.getInputProps,bt=lt.isDragActive;Object(c.useEffect)((function(){return Be(!0)}),[we,Te,Ae,De]),Object(c.useEffect)((function(){if(!$){var e,t=i.filter((function(e){return e.trim().length>0})).map((function(e,t){try{var a=JSON.parse(e);return{Timestamp:new Date(a.Timestamp),Level:a.Level,Message:M(a.MessageTemplate,a.Properties),Exception:a.Exception,Id:t,Properties:a.Properties,RawLine:e}}catch(n){return null}})).filter((function(e){return null!==e})).map((function(e){return e})),a=new Map,n=new Map,c=new Map,s=Object(d.a)(t);try{for(s.s();!(e=s.n()).done;){var r,o,l,j,b=e.value;if(b.Exception){var u=b.Exception.split(" ")[0];a.has(u)?a.set(u,a.get(u)+1):a.set(u,1)}var p=(null!==(r=null===(o=b.Properties)||void 0===o?void 0:o.WorkerName)&&void 0!==r?r:"General")+" "+b.Level;n.has(p)?n.set(p,n.get(p)+1):n.set(p,1);var h=null!==(l=null===(j=b.Properties)||void 0===j?void 0:j.ApplicationSessionId)&&void 0!==l?l:"";c.has(h)?c.set(h,c.get(h)+1):c.set(h,1)}}catch(O){s.e(O)}finally{s.f()}E(a),Ce(Array.from(a.keys())),Le(""),P(n),We(Array.from(n.keys())),z(c),He(Array.from(c.keys()));var m=Array.from(c.keys()).reduce((function(e,a){return e.set(a,t.filter((function(e){var t;return(null===(t=e.Properties)||void 0===t?void 0:t.ApplicationSessionId)===a})).reduce((function(e,t){return t.Timestamp<e?t.Timestamp:e}),new Date(9999,12,31))),e}),new Map);J(m),t.length>0&&(Oe(t[0].Timestamp),fe(t[t.length-1].Timestamp)),pt(),g(t)}}),[i,$]),Object(c.useEffect)((function(){Ve(x.filter((function(e){var t,a,n,c;return(!e.Exception||ee.includes(e.Exception.split(" ")[0]))&&oe.includes((null!==(t=null===(a=e.Properties)||void 0===a?void 0:a.WorkerName)&&void 0!==t?t:"General")+" "+e.Level)&&(0===ce.length||e.Exception.match(ce))&&be.includes(null!==(n=null===(c=e.Properties)||void 0===c?void 0:c.ApplicationSessionId)&&void 0!==n?n:"")&&me!==new Date(0)&&e.Timestamp>=me&&ve!==new Date(0)&&e.Timestamp<=ve})))}),[x,ee,ce,oe,be,me,ve]);var ut=function(e){s([]);var t=104857600,a=e.size/t+1,n=0;rt(e.name),_e(0),nt(a),q(!0);var c=new FileReader;c.addEventListener("error",(function(e){console.error("Can not load file",e),q(!1),s([]),Ue(0),rt(""),pt()})),c.addEventListener("load",(function(i){var r,o=(null===(r=i.target)||void 0===r?void 0:r.result).split("\n");s((function(e){return[].concat(Object(l.a)(e),Object(l.a)(o))})),n++,console.log(n,a),n>a?(q(!1),Ue(0)):(_e(n),c.readAsText(e.slice(n*t,Math.min(n*t+t,e.size))))})),c.readAsText(e.slice(0,Math.min(e.size,t)))},pt=function(){te(Object(l.a)(we)),ie(Te),le(Object(l.a)(Ae)),ue(Object(l.a)(De)),Be(!1)};return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsxs)("div",{style:{position:"absolute",left:"0px",top:"0px",color:"lightgray"},children:["v","0.5.3"]}),Object(n.jsx)(u.a,{color:"success",className:"alert",isOpen:X,children:"Log line was copied to clipboard."}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(o.a)(Object(o.a)({},dt()),{},{className:"dropzone",children:[Object(n.jsx)("input",Object(o.a)({type:"file",ref:e,disabled:$,accept:".json"},jt())),bt?"Drop file here":"Click or drag and drop files here"]})),Object(n.jsx)("div",{children:st})]}),$?Object(n.jsxs)("div",{style:{width:"70%"},children:[Object(n.jsx)(S.a,{}),Object(n.jsx)(S.b,{value:Ze/at*100,style:{width:"100%"}})]}):Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsx)(f,{LogLines:Ke,Workers:oe}),Object(n.jsxs)("div",{className:"accordion",id:"settingsAccordion",children:[Object(n.jsx)(L.a,{onClick:function(){return pt()},disabled:!Fe,children:"Apply settings"}),Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(n.jsx)("h2",{className:"mb-0",children:Object(n.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#exceptionsCollapse","aria-expanded":"true","aria-controls":"exceptionsCollapse",children:"Exceptions"})})}),Object(n.jsx)("div",{id:"exceptionsCollapse",className:"collapse","aria-labelledby":"exceptionsHeading","data-parent":"#settingsAccordion",children:Object(n.jsxs)("div",{className:"card-body",style:{height:400},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(p.a,{children:"Regex: "}),Object(n.jsx)(h.a,{onChange:function(e){return Le(e.target.value)},value:Te})," "]}),Object(n.jsx)(T.a,{columns:[{field:"Count",headerName:"Count",type:"number",width:150},{field:"Exception",headerName:"Exception",width:500}],rows:Array.from(w.keys()).sort().map((function(e){return{Count:w.get(e),Exception:e,id:e}})),checkboxSelection:!0,onSelectionModelChange:function(e){te(e.map((function(e){return e.toString()})))}})]})})]}),Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header",id:"workersHeading",children:Object(n.jsx)("h2",{className:"mb-0",children:Object(n.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#workersCollapse","aria-expanded":"true","aria-controls":"workersCollapse",children:"Workers"})})}),Object(n.jsx)("div",{id:"workersCollapse",className:"collapse","aria-labelledby":"workersHeading","data-parent":"#settingsAccordion",children:Object(n.jsx)("div",{className:"card-body",style:{height:400},children:Object(n.jsx)(T.a,{columns:[{field:"Count",headerName:"Count",type:"number",width:150},{field:"Worker",headerName:"Worker",width:500}],rows:Array.from(I.keys()).sort().map((function(e){return{Count:I.get(e),Worker:e,id:e}})),checkboxSelection:!0,onSelectionModelChange:function(e){le(e.map((function(e){return e.toString()})))}})})}),Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header",id:"exceptionsHeading",children:Object(n.jsx)("h2",{className:"mb-0",children:Object(n.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#applicationSessionIdsCollapse","aria-expanded":"true","aria-controls":"applicationSessionIdsCollapse",children:"Application Session Ids"})})}),Object(n.jsx)("div",{id:"applicationSessionIdsCollapse",className:"collapse","aria-labelledby":"applicationSessionIdsHeading","data-parent":"#settingsAccordion",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)(m.a,{striped:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{width:"10%",children:"Count"}),Object(n.jsx)("td",{width:"auto",children:"Application Session Id"}),Object(n.jsx)("td",{width:"auto",children:"Start time"}),Object(n.jsx)("td",{width:"5%",children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(O.a,{outline:!0,size:"sm",color:"secondary",style:{marginRight:5},onClick:function(){return He([])},children:"\u2610"}),Object(n.jsx)(O.a,{outline:!0,size:"sm",color:"success",onClick:function(){return He(Array.from(R.keys()))},children:"\u2611"})]})})]})}),Object(n.jsx)("tbody",{children:Array.from(R.keys()).sort((function(e,t){return G.get(e)>G.get(t)?-1:1})).map((function(e){var t;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:R.get(e)}),Object(n.jsx)("td",{children:e}),Object(n.jsx)("td",{children:null===(t=G.get(e))||void 0===t?void 0:t.toString()}),Object(n.jsx)("td",{children:Object(n.jsx)(h.a,{type:"checkbox",className:"tableCheckbox",checked:De.includes(e),onChange:function(t){t.target.checked?He([].concat(Object(l.a)(De),[e])):He(Object(l.a)(De.filter((function(t){return t!==e}))))}})})]},e)}))})]})})})]})]})]}),"Events:",Object(n.jsx)("br",{}),"Start Time: ",Object(n.jsx)(k.a,{selected:null!==me&&void 0!==me?me:x.length>0?x[0].Timestamp:new Date,onChange:function(e){e instanceof Date&&Oe(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(n.jsx)(L.a,{onClick:function(){return Oe(x[0].Timestamp)},children:"Clear"}),Object(n.jsx)("br",{}),"End Time: ",Object(n.jsx)(k.a,{selected:null!==ve&&void 0!==ve?ve:x.length>0?x[x.length-1].Timestamp:new Date,onChange:function(e){e instanceof Date&&fe(e)},showTimeSelect:!0,timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy HH:mm"}),Object(n.jsx)(L.a,{onClick:function(){return fe(x[x.length-1].Timestamp)},children:"Clear"}),Object(n.jsx)("br",{}),"Filtered ",Ke.length," out of ",x.length,Object(n.jsx)("br",{}),"Showing ",1e3*Qe," ..."," ",Math.min(Ke.length-1e3*Qe,1e3)+1e3*Qe,Object(n.jsx)(C.a,{pageCount:Ke.length/1e3,onPageChange:function(e){Ue(e.selected)},forcePage:Qe,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"}),Object(n.jsxs)(S.c,{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{width:"5%",children:"#"}),Object(n.jsx)("td",{width:"10%",children:"Time"}),Object(n.jsx)("td",{width:"10%",children:"Level"}),Object(n.jsx)("td",{width:"10%",children:"Work Item"}),Object(n.jsx)("td",{width:"20%",children:"Message"}),Object(n.jsx)("td",{width:"auto",children:"Exception"})]})}),Object(n.jsx)("tbody",{children:Ke.filter((function(e,t){return t>=1e3*Qe&&t<1e3*(Qe+1)})).map((function(e){var t,a,c,i;return Object(n.jsxs)("tr",{className:"logRow "+e.Level,children:[Object(n.jsxs)("td",{children:[Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:e.Id}),Object(n.jsx)("div",{children:Object(n.jsx)(L.a,{onClick:function(){navigator.clipboard.writeText(e.RawLine),Y(!0),setTimeout((function(){Y(!1)}),1500)},children:"Copy"})})]}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:e.Timestamp.toLocaleString()})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:e.Level}),Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:null===(t=e.Properties)||void 0===t?void 0:t.MetricName}),Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:null===(a=e.Properties)||void 0===a?void 0:a.ConcurrentTaskIndex})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:null!==(c=null===(i=e.Properties)||void 0===i?void 0:i.WorkItemKey)&&void 0!==c?c:"*"})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{style:{wordWrap:"break-word"},children:e.Message})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{style:{wordWrap:"break-word",whiteSpace:"break-spaces"},children:e.Exception})})]},e.Id)}))})]}),Object(n.jsx)(C.a,{pageCount:Ke.length/1e3,onPageChange:function(e){var t;Ue(e.selected),null===(t=document.getElementById("mainTable"))||void 0===t||t.scrollIntoView()},forcePage:Qe,disableInitialCallback:!0,pageRangeDisplayed:3,marginPagesDisplayed:1,breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]})]})}var A=a(216),W=Object(A.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),I=W.actions,P=(I.increment,I.decrement,I.incrementByAmount,W.reducer),D=Object(A.a)({reducer:{counter:P}}),H=a(466);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(193),z=a.n(R);r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(H.a,{store:D,children:Object(n.jsx)(z.a,{children:Object(n.jsx)(E,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[899,1,2]]]);
//# sourceMappingURL=main.32cdf23e.chunk.js.map